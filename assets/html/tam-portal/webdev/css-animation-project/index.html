<!DOCTYPE html>
<html>
<head>
	<title>CSS Animation - Dillon Drenzek</title>

	<!-- Meta Tags -->	
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="author" content="Dillon Drenzek">

	<!-- Links -->
		<!-- Stylesheet -->
			<link href='style.css' rel='stylesheet'>

	<!-- Scripts -->
		<!-- jQuery -->	
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="./jquery.panelSnap.js"></script>
		<script type="text/javascript">

			jQuery(function($) {
				var options = {
				  panelSelector: 'section.main',
				  directionThreshold: 50,
				  slideSpeed: 200,
				  keyboardNavigation: {
				    enabled: true,
				    nextPanelKey: 40,
				    previousPanelKey: 38,
				    wrapAround: true
				  }
				};

		        $('body').panelSnap(options);
		      });

			$(document).ready(function(){
				$('.story-line').hide();
				$('#first.story-line').show();
				var documentHeight = $(document).height();
				var mainSections = $('section.main').get();
				var storylines = $('.story-line').get();
				var sectionHeight = $('section.main').height();
				

				$(document).scroll(function(){

					$('.help-box-animate').hide(); 

					// if ($(document).scrollTop() % sectionHeight == 0){
							
						var currentIndex = Math.ceil($(document).scrollTop()/(documentHeight/mainSections.length));

						for (var i = 0; i < mainSections.length; i++) {
							if (i == currentIndex) {
								$(storylines[i]).show();
							} else {
								$(storylines[i]).hide();
							}
							
						};

						if ($(document).scrollTop() > documentHeight) {
							storylines[mainSections.length].show();
						}
					// }
				});

				$(window).resize(function(){
					documentHeight = $(document).height();
					sectionHeight = $('section.main').height();
				});
			});
		</script>

	<!-- Styles -->	
		<style type="text/css">

		
		</style>
</head>
	<body>
		<div id="help-box" class="help-box-animate">Scroll down to continue.</div>
		<div id="animation-frame">
			<img src="./mountains.svg" id="mountains" alt="placeholder+image">
			<div id="sky" class="moon-path">
				<img src="./moon.svg" alt="moon" height="75px" width="75px" id="moon">
				<img src="./stars.svg" id="stars" alt="placeholder+image">
			</div>
		</div>
		<div id="text-frame">
			<p id="first" class="story-line">"We lay there and looked up at the night sky</p>
			<p class="story-line">She told me about stars called blue squares and red swirls</p>
			<p class="story-line">I told her I'd never heard of them</p>
			<p class="story-line">Of course not, she said, the really important stuff they never tell you...</p>
			<p class="story-line">You have to imagine it on your own." <br>-Brian Andreas</p>
		</div>

		<section class="main clear-bg"></section>
		<section class="main clear-bg"></section>
		<section class="main clear-bg"></section>
		<section class="main clear-bg"></section>
		<section class="main clear-bg"></section>
	</body>
</html>